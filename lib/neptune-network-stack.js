"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NeptuneNetworkStack = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
const network_1 = require("./constructs/network");
const neptune_1 = require("./constructs/neptune");
class NeptuneNetworkStack extends aws_cdk_lib_1.Stack {
    constructor(scope, id, props) {
        super(scope, id, props);
        const { natSubnet, maxAz, neptuneServerlss, neptuneServerlssCapacity } = props;
        const network = new network_1.Network(this, "network", {
            natSubnet,
            maxAz,
        });
        this.vpc = network.vpc;
        const neptune = new neptune_1.Neptune(this, "neptune", {
            vpc: network.vpc,
            neptuneServerlss,
            neptuneServerlssCapacity,
        });
        this.cluster = neptune.cluster;
        this.neptuneRole = neptune.neptuneRole;
    }
}
exports.NeptuneNetworkStack = NeptuneNetworkStack;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVwdHVuZS1uZXR3b3JrLXN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibmVwdHVuZS1uZXR3b3JrLXN0YWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUFrRTtBQUdsRSxrREFBK0M7QUFDL0Msa0RBQStDO0FBUy9DLE1BQWEsbUJBQW9CLFNBQVEsbUJBQUs7SUFJNUMsWUFBWSxLQUFnQixFQUFFLEVBQVUsRUFBRSxLQUErQjtRQUN2RSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV4QixNQUFNLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0IsRUFBRSxHQUNwRSxLQUFLLENBQUM7UUFFUixNQUFNLE9BQU8sR0FBRyxJQUFJLGlCQUFPLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRTtZQUMzQyxTQUFTO1lBQ1QsS0FBSztTQUNOLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUV2QixNQUFNLE9BQU8sR0FBRyxJQUFJLGlCQUFPLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRTtZQUMzQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUc7WUFDaEIsZ0JBQWdCO1lBQ2hCLHdCQUF3QjtTQUN6QixDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDL0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO0lBQ3pDLENBQUM7Q0FDRjtBQXpCRCxrREF5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGFjaywgU3RhY2tQcm9wcywgYXdzX2VjMiwgYXdzX2lhbSB9IGZyb20gXCJhd3MtY2RrLWxpYlwiO1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSBcImNvbnN0cnVjdHNcIjtcbmltcG9ydCAqIGFzIG5lcHR1bmUgZnJvbSBcIkBhd3MtY2RrL2F3cy1uZXB0dW5lLWFscGhhXCI7XG5pbXBvcnQgeyBOZXR3b3JrIH0gZnJvbSBcIi4vY29uc3RydWN0cy9uZXR3b3JrXCI7XG5pbXBvcnQgeyBOZXB0dW5lIH0gZnJvbSBcIi4vY29uc3RydWN0cy9uZXB0dW5lXCI7XG5cbmludGVyZmFjZSBOZXB0dW5lTmV0d29ya1N0YWNrUHJvcHMgZXh0ZW5kcyBTdGFja1Byb3BzIHtcbiAgbmF0U3VibmV0PzogYm9vbGVhbjtcbiAgbWF4QXo6IG51bWJlcjtcbiAgbmVwdHVuZVNlcnZlcmxzczogYm9vbGVhbjtcbiAgbmVwdHVuZVNlcnZlcmxzc0NhcGFjaXR5PzogbmVwdHVuZS5TZXJ2ZXJsZXNzU2NhbGluZ0NvbmZpZ3VyYXRpb247XG59XG5cbmV4cG9ydCBjbGFzcyBOZXB0dW5lTmV0d29ya1N0YWNrIGV4dGVuZHMgU3RhY2sge1xuICBwdWJsaWMgcmVhZG9ubHkgdnBjOiBhd3NfZWMyLlZwYztcbiAgcHVibGljIHJlYWRvbmx5IGNsdXN0ZXI6IG5lcHR1bmUuRGF0YWJhc2VDbHVzdGVyO1xuICBwdWJsaWMgcmVhZG9ubHkgbmVwdHVuZVJvbGU6IGF3c19pYW0uUm9sZTtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IE5lcHR1bmVOZXR3b3JrU3RhY2tQcm9wcykge1xuICAgIHN1cGVyKHNjb3BlLCBpZCwgcHJvcHMpO1xuXG4gICAgY29uc3QgeyBuYXRTdWJuZXQsIG1heEF6LCBuZXB0dW5lU2VydmVybHNzLCBuZXB0dW5lU2VydmVybHNzQ2FwYWNpdHkgfSA9XG4gICAgICBwcm9wcztcblxuICAgIGNvbnN0IG5ldHdvcmsgPSBuZXcgTmV0d29yayh0aGlzLCBcIm5ldHdvcmtcIiwge1xuICAgICAgbmF0U3VibmV0LFxuICAgICAgbWF4QXosXG4gICAgfSk7XG4gICAgdGhpcy52cGMgPSBuZXR3b3JrLnZwYztcblxuICAgIGNvbnN0IG5lcHR1bmUgPSBuZXcgTmVwdHVuZSh0aGlzLCBcIm5lcHR1bmVcIiwge1xuICAgICAgdnBjOiBuZXR3b3JrLnZwYyxcbiAgICAgIG5lcHR1bmVTZXJ2ZXJsc3MsXG4gICAgICBuZXB0dW5lU2VydmVybHNzQ2FwYWNpdHksXG4gICAgfSk7XG5cbiAgICB0aGlzLmNsdXN0ZXIgPSBuZXB0dW5lLmNsdXN0ZXI7XG4gICAgdGhpcy5uZXB0dW5lUm9sZSA9IG5lcHR1bmUubmVwdHVuZVJvbGU7XG4gIH1cbn1cbiJdfQ==